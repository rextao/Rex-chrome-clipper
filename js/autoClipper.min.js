var AutoClipper=function(){var hostMap={};var preProcess=new PreProcess;hostMap["zhuanlan"]=function(){tools.openMessage("当前为知乎页面");var $article=$("article");var $header=$article.find("header");var $headerNext=$header.next();if($article.length===0||$header.length===0||$headerNext.length===0){tools.openMessage("未成功剪辑知乎页面！！","error");return}$header.find("h1").addClass("rt-clipper-save-hook");$headerNext.addClass("rt-clipper-save-hook");$headerNext.nextAll().remove();preProcess.init()};hostMap["blog_csdn"]=function(){tools.openMessage("当前为csdn blog页面");var $main=$("main");var blogContentBox=$main.find(".blog-content-box");$main.width("100%");blogContentBox.addClass("rt-clipper-save-hook");$("#csdn-toolbar").remove();blogContentBox.nextAll().remove();$main.nextAll().remove();preProcess.init()};hostMap["jobbole"]=function(){tools.openMessage("当前为伯乐在线页面");var $wrapper=$("#wrapper");var $grid8=$wrapper.find(".grid-8").eq(0);var $content=$grid8.children().eq(0);var $copyRightArea=$(".copyright-area");$copyRightArea.remove();$content.addClass("rt-clipper-save-hook");$grid8.nextAll().remove();$content.nextAll().remove();$grid8.css({position:"absolute",top:"40px",left:"5%",width:"90%"});var $singlePageInnerWidget=$("#single-page-inner-widget");$singlePageInnerWidget.next().remove();$singlePageInnerWidget.remove();preProcess.init()};hostMap["jianshu"]=function(){tools.openMessage("当前为简书页面");$("body").css("padding-top","0!important");var $article=$(".article");var $post=$article.parent();var $noteBottom=$(".note-bottom");var $author=$(".author");$article.addClass("rt-clipper-save-hook");$author.remove();$("nav").remove();$noteBottom.remove();$article.nextAll().remove();$post.siblings().remove();preProcess.init()};hostMap["juejin_im"]=function(){tools.openMessage("当前为掘金页面");var $article=$("article");var $articelparent=$article.parent();var $main=$("main");$article.addClass("rt-clipper-save-hook");$(".author-info-block").remove();$main.siblings().remove();$article.siblings().remove();$articelparent.siblings().remove();$articelparent.css({width:"90%",margin:"0 auto"});preProcess.init()};hostMap["segmentfault"]=function(){tools.openMessage("当前为思否页面");var $main=$(".main");var $h1=$main.find("h1");var $article=$(".article");var $nav=$(".global-nav");var $footer=$("#footer");var $breadcrumb=$(".breadcrumb");$main.addClass("rt-clipper-save-hook");$main.siblings().remove();$h1.siblings().remove();$article.nextAll().remove();$nav.remove();$breadcrumb.remove();$footer.remove();$article.css("margin-top","0");$article.parent().css("width","100%");preProcess.init()};hostMap["cnblogs"]=function(){tools.openMessage("当前为cnblogs页面");var $main=$("#mainContent");var $header=$("#header");$main.addClass("rt-clipper-save-hook");$main.siblings().remove();$main.css("margin","10px");$header.remove();$("#MySignature").remove();$("#blog_post_info_block").remove();$("#blog-comments-placeholder").remove();$("#comment_form").remove();$(".postDesc").remove();preProcess.init()};function keyConvert(key){if(key.indexOf("_")===-1){return key}else{return key.replace(/_/g,".")}}function addCommonContent(){$("body").prepend('<p class="rt-clipper-save-hook rt-clipper-pdf-href" >原始页面：'+'<a  href="'+document.location.href+'">'+document.location.href+"</a>"+"</p>")}function autoClipper(){var hostname=document.location.hostname;for(var key in hostMap){var convertKey=keyConvert(key);if(hostname.indexOf(convertKey)!==-1){hostMap[key]();addCommonContent();return}}tools.openMessage("似乎未剪辑成功","error")}this.init=function(){if($(".rt-clipper-pdf-href").length!==0){tools.openMessage("页面已剪辑过");return}autoClipper()}};